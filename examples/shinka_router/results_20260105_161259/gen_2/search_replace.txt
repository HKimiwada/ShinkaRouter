<NAME>
difficulty_based_routing
</NAME>

<DESCRIPTION>
To improve the performance of the agent, I propose implementing a difficulty-based routing strategy. This involves estimating the difficulty of the problem first and then routing to the appropriate primitive based on that difficulty. For easy problems, we can use `baseline_solve`, while for medium and hard problems, we can use `deep_think` followed by `verify` for better accuracy. This approach should enhance the accuracy of the agent while keeping the average number of LLM calls low.
</DESCRIPTION>

<DIFF>
<<<<<<< SEARCH
        # Baseline: Exact match to adas_aime (temp=0.0, simple prompt)
        response, cost = self.baseline_solve(problem)
=======
        # Estimate difficulty of the problem
        difficulty, cost = self.estimate_difficulty(problem)
        total_cost = cost

        if difficulty == 'easy':
            response, cost = self.baseline_solve(problem)
            total_cost += cost
        elif difficulty == 'medium':
            response, cost = self.deep_think(problem)
            total_cost += cost
            answer = self.extract_boxed_answer(response)
            if answer:
                verify_response, verify_cost = self.verify(problem, answer)
                total_cost += verify_cost
                return verify_response, total_cost
        else:  # hard
            response, cost = self.deep_think(problem)
            total_cost += cost
            answer = self.extract_boxed_answer(response)
            if answer:
                verify_response, verify_cost = self.verify(problem, answer)
                total_cost += verify_cost
                return verify_response, total_cost
>>>>>>> REPLACE
</DIFF>