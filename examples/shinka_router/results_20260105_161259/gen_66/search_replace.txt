<NAME>
improve_routing_logic
</NAME>

<DESCRIPTION>
The current routing logic primarily relies on the difficulty of the problem to determine which primitive to use. However, it does not leverage the classification of the problem type effectively in the routing decision for hard problems. By enhancing the routing logic to utilize both difficulty and problem type for hard problems, we can potentially improve accuracy and reduce the number of calls. Specifically, we can implement a strategy where for hard problems, if the type is algebra or combinatorics, we utilize the ensemble_vote method, while for geometry or number theory, we continue with deep_think followed by verification. This targeted approach can help in obtaining more accurate solutions while managing the call budget effectively.
</DESCRIPTION>

<DIFF>
<<<<<<< SEARCH
            response, cost = self.deep_think(problem)
=======
            problem_type, _ = self.classify_problem_type(problem)
            if problem_type in ['algebra', 'combinatorics']:
                response, cost = self.ensemble_vote(problem)
            else:
                response, cost = self.deep_think(problem)
>>>>>>> REPLACE
</DIFF>