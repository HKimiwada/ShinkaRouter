<NAME>
difficulty_based_routing
</NAME>

<DESCRIPTION>
The current implementation uses a combination of `estimate_difficulty`, `classify_problem_type`, and a series of solving methods, which leads to many unnecessary calls, especially with `classify_problem_type`. By simplifying the routing logic based on difficulty alone, we can reduce the average number of calls while maintaining or improving accuracy. We will directly route to `baseline_solve` for easy problems, `deep_think` for hard problems, and use `ensemble_vote` for medium problems, potentially followed by a verification step. This should enhance performance by minimizing redundant calls.
</DESCRIPTION>

<DIFF>
<<<<<<< SEARCH
        # Estimate difficulty and classify problem type
        difficulty, _ = self.estimate_difficulty(problem)
        problem_type, _ = self.classify_problem_type(problem)

        # Routing based on difficulty and type
=======
        # Estimate difficulty
        difficulty, _ = self.estimate_difficulty(problem)

        # Routing based on difficulty
>>>>>>> REPLACE
        if difficulty == 'easy':
            response, cost = self.baseline_solve(problem)
        elif difficulty == 'medium':
            response, cost = self.ensemble_vote(problem, self.ensemble_size)
        else:  # hard problems
            response, cost = self.deep_think(problem)
            answer = self.extract_boxed_answer(response)
            if answer:
                verify_response, verify_cost = self.verify(problem, answer)
                response = verify_response
                cost += verify_cost

        return response, cost
    # EVOLVE-BLOCK-END
</DIFF>