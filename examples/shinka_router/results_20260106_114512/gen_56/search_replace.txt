<NAME>
difficulty_classification_routing
</NAME>
<DESCRIPTION>
Implement a preliminary difficulty classification step that directs easy problems to minimal primitives (baseline_solve) and assigns more complex problems to deeper reasoning (deep_think + verify). This reduces unnecessary primitive calls on straightforward problems, improving efficiency and allowing better balancing of accuracy versus call count in later iterations.
</DESCRIPTION>
<DIFF>
<<<<<<< SEARCH
    def forward(self, problem: str) -> Tuple[str, float]:
        """
        Main entry point - routes problem to appropriate primitives.
        This method will be evolved by ShinkaEvolve to discover
        optimal routing strategies.

        Initial baseline: Use baseline_solve (temperature=0.0) which
        exactly matches the adas_aime baseline behavior.
        """
        # Reset tracking for this problem
        self.reset_tracking()

        # Baseline: Exact match to adas_aime (temp=0.0, simple prompt)
        response, cost = self.baseline_solve(problem)
        return response, cost
    # EVOLVE-BLOCK-END
=======
    def forward(self, problem: str) -> Tuple[str, float]:
        """
        Routes problems based on estimated difficulty:
        - 'easy' problems: solve directly with baseline_solve
        - 'medium' or 'hard' problems: use deep_think then verify
        """
        self.reset_tracking()
        total_cost = 0.0

        # Step 1: Classify problem difficulty
        difficulty, diff_cost = self.estimate_difficulty(problem)
        total_cost += diff_cost

        # Step 2: Route based on difficulty
        if difficulty == "easy":
            response, cost = self.baseline_solve(problem)
            total_cost += cost
        else:
            # For 'medium' and 'hard', perform deep_think and verify
            dt_response, dt_cost = self.deep_think(problem)
            total_cost += dt_cost
            v_response, v_cost = self.verify(problem, dt_response)
            total_cost += v_cost
            response = v_response

        return response, total_cost
>>>>>>> REPLACE