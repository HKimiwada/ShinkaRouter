# EVOLVE-BLOCK-START
def forward(self, problem: str) -> Tuple[str, float]:
    """
    Adaptive routing based on problem difficulty estimation.
    """
    self.reset_tracking()
    total_cost = 0.0

    # Step 1: Classify problem difficulty
    difficulty, diff_cost = self.estimate_difficulty(problem)
    total_cost += diff_cost

    # Step 2: Route based on difficulty
    if difficulty == "easy":
        # For easy problems, use fast baseline
        response, cost = self.baseline_solve(problem)
        total_cost += cost
    elif difficulty == "medium":
        # For medium problems, do deep_think + verify
        response, cost = self.deep_think(problem)
        total_cost += cost
        v_response, v_cost = self.verify(problem, response)
        total_cost += v_cost
        response = v_response
    else:
        # For hard problems, use ensemble_vote + verify
        response, e_cost = self.ensemble_vote(problem)
        total_cost += e_cost
        v_response, v_cost = self.verify(problem, response)
        total_cost += v_cost
        response = v_response

        # Optional: self_critique for further refinement if needed
        # Uncomment below if iterative refinement is desired
        # critique_response, c_cost = self.self_critique(problem, response)
        # total_cost += c_cost
        # response = critique_response

    return response, total_cost
# EVOLVE-BLOCK-END